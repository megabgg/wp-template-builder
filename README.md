# Wp template builder(WTB)

Базовый шаблон с удобной структурой и необходимыми инструментами для быстрой и качественной разработки тем.

## Основная идея

Стандартный подход к разработке тем для wordpress подразумевает собой скрещивание html и php кода в одном файле. Это
неудобно, так как с ростом проекта, увеличивается объем кода, и становится очень сложно контролировать разработку,
потому что шаблоны основных сущностей представляют собой месиво разнотипного кода в котором приходится долго
разбираться.

Данная сборка предназначена решить эту проблему и отделить логическую часть от html кода, путем разделения шаблона.

В логической части происходят все манипуляции с данными(получение, обработка и тд). В итоге собирается коллекция(массив)
в которой находятся чистые данные. Далее это коллекция попадает в функцию-обработчик которая склеивает ее с
представлением.

Пример:

single.php

```
<?php 
wtb_render_template('resources/views/singles/single.view', function () {
    return [
        'title' => get_the_title(),
        'content' => wtb_get_content($post_id),
        'date' => get_the_date('Y-m-d'),
    ];
});
```

single.view.php

```
<div class="single-post">
    <h1 class="single-post__title">
        <?= $args['title'] ?>
    </h1>
    <span><?= $args['date'] ?></span>
    <div class="wysiwyg">
        <?= $args['content'] ?>
    </div>     
</div>

```

## Шаблоны

Все основные шаблоны находятся в корне темы. В них собираются данные, обрабатываются, и передаются в функцию которая
склеивает их с представлением в единый html. Порядок подключения файлов определяется в functions.php, который находится в корне темы.


Представления находятся в каталоге resources/views.

## Структура проекта

Весь необходимый функционал шаблона находится в папке includes в отдельных файлах.

###

### actions.php

Список хуков, которые выполняются при инициализации.

###

### admin.php

Функционал отвечающий за кастомизацию админ-панели.

###

### ajax.php

Ajax обработчики используемые в шаблоне(бесконечная прокрутка, фильтры и тп).

###

### api.php

Интеграция кастомных API обработчиков.

###

### assets.php

Подключение статических файлов(css, js).

###

### data-filters.php

Пользовательские фильтры данных wp_query.

###

### menus.php

Добавление областей меню.

###

### modules.php

Реализация авто загрузчика модулей.

###

### post-types.php

Добавление основных сущностей сайта.

###
### wtb-helpers.php

Функции помощники(вспомогательные функции)(имеют префикс wtb).


## Вспомогательные функции(helpers)

Вспомогательные функции(helpers) - часто-используемые функции ускоряющие разработку.

К таким функциям относятся:

### wtb_render_template

Отдает полностью сгенерированный шаблон страницы. Входные параметры:

- $path - путь до представления(html верстка)
- $data - данные которые будут встраиваться в html шаблон

### wtb_render_section

...

### wtb_get_wp_head

...

### wtb_get_wp_footer

...

### wtb_get_menu_items

...

### wtb_get_attachment

...

### wtb_get_content

...

### wtb_get_max_pages

...

### wtb_get_current_num_page

...

### wtb_get_paginate_links

## Расширяемость

Так как это универсальный шаблон, он может стать основной любого проекта подходящий под его задачи. В связи с этим,
некоторый функционал может быть востребован, либо же нет.

Данный функционал вынесен в модули шаблона(не путать с плагинами). Они находятся в отдельном каталоге и подключаются
автоматически. Если при разработке проекта, какой-то модуль не потребовался, то его следует удалить из каталога с
модулями.  